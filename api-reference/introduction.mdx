---
title: 'API Reference'
description: 'Documenta√ß√£o completa da API REST do Affiliatus.io'
---

## Bem-vindo √† API do Affiliatus

A API do Affiliatus permite que voc√™ integre seu sistema de afiliados diretamente com seu backend, possibilitando enviar convers√µes, gerenciar afiliados e acessar m√©tricas programaticamente.

---

## Base URL

```
https://api.affiliatus.io
```

**Ambiente de produ√ß√£o:**
- Base URL: `https://api.affiliatus.io`
- Vers√£o: v1 (atual)

---

## Autentica√ß√£o

Todas as requisi√ß√µes √† API requerem autentica√ß√£o via **API Key**.

### Como Obter sua API Key

1. Acesse o [Dashboard do Affiliatus](https://app.affiliatus.io)
2. V√° em **Configura√ß√µes** ‚Üí **API Keys**
3. Clique em **"Nova API Key"**
4. Copie a chave (ser√° exibida apenas uma vez!)

### Enviando a API Key

Inclua sua API key no header `X-API-Key` de todas as requisi√ß√µes:

```http
X-API-Key: sua_api_key_aqui
```

<Warning>
  **Seguran√ßa:** Nunca exponha sua API key no frontend ou em reposit√≥rios p√∫blicos. 
  Use vari√°veis de ambiente ou gerenciadores de secrets.
</Warning>

---

## Rate Limiting

A API possui limites de requisi√ß√µes para garantir estabilidade:

| Endpoint | Limite | Per√≠odo |
|----------|--------|---------|
| `/events/api` | 70 requisi√ß√µes | por minuto |
| Outros endpoints | 100 requisi√ß√µes | por minuto |

**Headers de resposta:**

```http
X-RateLimit-Limit: 70
X-RateLimit-Remaining: 65
X-RateLimit-Reset: 1640000000
```

**Resposta quando limite excedido (429):**

```json
{
  "statusCode": 429,
  "message": "ThrottlerException: Too Many Requests",
  "error": "Too Many Requests"
}
```

<Tip>
  Implemente retry com exponential backoff para lidar com rate limits de forma elegante.
</Tip>

---

## Formatos de Dados

### Request

- **Content-Type:** `application/json`
- **Encoding:** UTF-8
- **Date Format:** ISO 8601 (`2024-01-15T10:30:00Z`)

### Response

Todas as respostas s√£o em formato JSON:

```json
{
  "success": true,
  "data": {},
  "message": "Optional success message"
}
```

---

## C√≥digos de Status HTTP

| C√≥digo | Descri√ß√£o | Uso |
|--------|-----------|-----|
| **200** | OK | Requisi√ß√£o bem-sucedida |
| **201** | Created | Recurso criado com sucesso |
| **400** | Bad Request | Dados inv√°lidos ou faltando |
| **401** | Unauthorized | API key inv√°lida ou ausente |
| **403** | Forbidden | API key revogada ou sem permiss√£o |
| **404** | Not Found | Recurso n√£o encontrado |
| **429** | Too Many Requests | Rate limit excedido |
| **500** | Internal Server Error | Erro no servidor |

---

## Erros

### Estrutura de Erro

```json
{
  "statusCode": 400,
  "message": "Validation error message",
  "error": "Bad Request"
}
```

### Erros Comuns

#### 401 - API Key Inv√°lida

```json
{
  "statusCode": 401,
  "message": "API Key is required",
  "error": "Unauthorized"
}
```

**Solu√ß√£o:** Verifique se o header `X-API-Key` est√° presente e correto.

---

#### 403 - API Key Revogada

```json
{
  "statusCode": 403,
  "message": "API Key is revoked or inactive",
  "error": "Forbidden"
}
```

**Solu√ß√£o:** Crie uma nova API key no dashboard.

---

#### 400 - Dados Inv√°lidos

```json
{
  "statusCode": 400,
  "message": [
    "order_value must be a positive number",
    "affiliate_id is required"
  ],
  "error": "Bad Request"
}
```

**Solu√ß√£o:** Verifique se todos os campos obrigat√≥rios est√£o presentes e v√°lidos.

---

## Endpoints Dispon√≠veis

<Card title="Enviar Eventos" icon="paper-plane" href="/api-reference/events/send-events">
  Envie convers√µes e outros eventos de rastreamento via POST
</Card>

---

## Exemplo R√°pido

### Enviar uma Convers√£o

```bash
curl -X POST https://api.affiliatus.io/events/api \
  -H "Content-Type: application/json" \
  -H "X-API-Key: sua_api_key_aqui" \
  -d '{
    "events": [{
      "event_type": "conversion",
      "campaign_id": "abc-123-def",
      "affiliate_id": "JOAO1",
      "properties": {
        "order_id": "ORDER-12345",
        "order_value": 99.90
      }
    }]
  }'
```

**Resposta (200 OK):**

```json
{
  "success": true
}
```

---

## SDKs e Bibliotecas

Atualmente, a API suporta requisi√ß√µes HTTP diretas em qualquer linguagem. Exemplos dispon√≠veis:

- Node.js (Fetch, Axios)
- PHP (cURL)
- Python (Requests)
- Ruby (Net::HTTP)
- Go (net/http)

<Note>
  Veja exemplos completos na [documenta√ß√£o de integra√ß√£o](/integrations/api-rest).
</Note>

---

## Versionamento

A API segue versionamento sem√¢ntico. A vers√£o atual √© **v1**.

**Breaking changes** ser√£o comunicadas com anteced√™ncia e uma nova vers√£o ser√° disponibilizada.

---

## Suporte

Precisa de ajuda?

- üìß Email: [suporte@affiliatus.io](mailto:suporte@affiliatus.io)
- üìö Guia de Integra√ß√£o: [/integrations/api-rest](/integrations/api-rest)
- üöÄ Quickstart: [/quickstart](/quickstart)

---

## Pr√≥ximos Passos

<CardGroup cols={2}>
  <Card title="Ver Endpoints" icon="list" href="/api-reference/events/send-events">
    Explore todos os endpoints dispon√≠veis
  </Card>
  
  <Card title="Guia de Integra√ß√£o" icon="book" href="/integrations/api-rest">
    Tutorial completo com exemplos de c√≥digo
  </Card>
  
  <Card title="Criar API Key" icon="key" href="https://app.affiliatus.io/dashboard/settings/api-keys">
    Gere sua primeira API key no dashboard
  </Card>
  
  <Card title="Testar API" icon="flask" href="/api-reference/events/send-events#testando">
    Fa√ßa seu primeiro teste com cURL
  </Card>
</CardGroup>
